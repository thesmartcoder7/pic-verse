{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{% static 'app/css/base.css' %}" />
    <link rel="shortcut icon" href="" type="image/x-icon" />
    <link
      rel="shortcut icon"
      href="{% static 'app/images/favicon.png' %}"
      type="image/x-icon"
    />
    <!-- <script src="{% static 'app/js/htmx-min.js' %}"></script> -->
    <script
      src="https://unpkg.com/htmx.org@1.9.2"
      integrity="sha384-L6OqL9pRWyyFU3+/bjdSri+iIphTN/bvYyM37tICVyOJkWZLpP2vGn6VUEXgzg6h"
      crossorigin="anonymous"
    ></script>

    <!-- stylesheet block -->
    {% block style %} {% endblock %}

    <!-- title block -->
    {% block title %}
    <title>Instagram</title>
    {% endblock %}
  </head>
  <body>
    <main>
      <div class="left-panel">
        <!-- instagram logo -->
        <div class="logo">
          <a href="{% url 'insta-home' %}">
            <svg viewBox="0 0 24 24">
              <path
                fill="#0095f6"
                d="M19.02 10v9H5V5h9V3H5.02c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2zM17 10l.94-2.06L20 7l-2.06-.94L17 4l-.94 2.06L14 7l2.06.94zm-3.75.75L12 8l-1.25 2.75L8 12l2.75 1.25L12 16l1.25-2.75L16 12z"
              />
            </svg>
            <p><span>Pic</span>Verse</p>
          </a>
        </div>

        <!-- user avatar -->
        <div class="avatar">
          <div class="image-container">
            <img src="{{user.profile.image.url}}" alt="userimage" />
          </div>
        </div>
        <div class="user-info">
          <div class="names">
            <h1>{{user.first_name|title}} {{user.last_name|title}}</h1>
            <h2>@{{user.username}}</h2>
          </div>
          <div class="info">
            <div class="posts">
              <p class="count">{{user.posts.count}}</p>
              <p>Posts</p>
            </div>
            <div class="followers">
              <p class="count user-follower-count">
                {{user.profile.follower.count}}
              </p>
              {% if user.profile.follower.count > 1 %}
              <p>Followers</p>
              {% elif user.profile.follower.count == 0%}
              <p>Followers</p>
              {% else %}
              <p>Follower</p>
              {% endif %}
            </div>
            <div class="following">
              <p class="count user-following-count">
                {{user.profile.following.count}}
              </p>
              <p>Following</p>
            </div>
          </div>
        </div>

        <!-- nav panel -->
        <div class="nav-panel">
          <ul>
            <li>
              <a href="{% url 'insta-home' %}">
                <svg aria-hidden="true" role="img" viewBox="0 0 24 24">
                  <path
                    fill="none"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M22 20v-7.826a4 4 0 0 0-1.253-2.908l-7.373-6.968a2 2 0 0 0-2.748 0L3.253 9.266A4 4 0 0 0 2 12.174V20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z"
                  />
                </svg>
                Feed
              </a>
            </li>
            <li>
              <a href="{% url 'insta-profile' %}">
                <svg aria-hidden="true" role="img" viewBox="0 0 24 24">
                  <path
                    fill="currentColor"
                    d="M7 8a5 5 0 1 1 10 0A5 5 0 0 1 7 8Zm5 3a3 3 0 1 0 0-6a3 3 0 0 0 0 6Zm-5.657 5.343A8 8 0 0 0 4 22h2a6 6 0 1 1 12 0h2a8 8 0 0 0-13.657-5.657Z"
                  />
                </svg>
                My Page
              </a>
            </li>
            <li>
              <a href="{% url 'insta-explore' %}">
                <svg aria-hidden="true" role="img" viewBox="0 0 24 24">
                  <g
                    fill="none"
                    stroke="currentColor"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                  >
                    <circle cx="12" cy="12" r="10" />
                    <path
                      d="m16.24 7.76l-2.12 6.36l-6.36 2.12l2.12-6.36l6.36-2.12z"
                    />
                  </g>
                </svg>
                Explore
              </a>
            </li>
            <li>
              <a href="{% url 'insta-messages' %}">
                <svg viewBox="0 0 24 24">
                  <g id="evaMessageCircleOutline0">
                    <g id="evaMessageCircleOutline1">
                      <g id="evaMessageCircleOutline2" fill="currentColor">
                        <circle cx="12" cy="12" r="1" />
                        <circle cx="16" cy="12" r="1" />
                        <circle cx="8" cy="12" r="1" />
                        <path
                          d="M19.07 4.93a10 10 0 0 0-16.28 11a1.06 1.06 0 0 1 .09.64L2 20.8a1 1 0 0 0 .27.91A1 1 0 0 0 3 22h.2l4.28-.86a1.26 1.26 0 0 1 .64.09a10 10 0 0 0 11-16.28Zm.83 8.36a8 8 0 0 1-11 6.08a3.26 3.26 0 0 0-1.25-.26a3.43 3.43 0 0 0-.56.05l-2.82.57l.57-2.82a3.09 3.09 0 0 0-.21-1.81a8 8 0 0 1 6.08-11a8 8 0 0 1 9.19 9.19Z"
                        />
                      </g>
                    </g>
                  </g>
                </svg>
                Messages
              </a>
            </li>
            <li>
              <a href="{% url 'insta-settings' %}" class="disable-post-button">
                <svg aria-hidden="true" role="img" viewBox="0 0 24 24">
                  <path
                    fill="currentColor"
                    d="M13.82 22h-3.64a1 1 0 0 1-.977-.786l-.407-1.884a8.002 8.002 0 0 1-1.535-.887l-1.837.585a1 1 0 0 1-1.17-.453L2.43 15.424a1.006 1.006 0 0 1 .193-1.239l1.425-1.3a8.1 8.1 0 0 1 0-1.772L2.623 9.816a1.006 1.006 0 0 1-.193-1.24l1.82-3.153a1 1 0 0 1 1.17-.453l1.837.585c.244-.18.498-.348.76-.5c.253-.142.513-.271.779-.386l.408-1.882A1 1 0 0 1 10.18 2h3.64a1 1 0 0 1 .976.787l.412 1.883a7.993 7.993 0 0 1 1.534.887l1.838-.585a1 1 0 0 1 1.169.453l1.82 3.153c.232.407.152.922-.193 1.239l-1.425 1.3a8.1 8.1 0 0 1 0 1.772l1.425 1.3c.345.318.425.832.193 1.239l-1.82 3.153a1 1 0 0 1-1.17.453l-1.837-.585a7.98 7.98 0 0 1-1.534.886l-.412 1.879a1 1 0 0 1-.976.786Zm-6.2-5.771l.82.6c.185.136.377.261.577.375c.188.109.38.207.579.296l.933.409l.457 2.091h2.03l.457-2.092l.933-.409c.407-.18.794-.403 1.153-.666l.82-.6l2.042.65l1.015-1.758l-1.583-1.443l.112-1.012c.05-.443.05-.89 0-1.332l-.112-1.012l1.584-1.446l-1.016-1.759l-2.041.65l-.821-.6a6.227 6.227 0 0 0-1.153-.671l-.933-.409L13.016 4h-2.03l-.46 2.092l-.93.408a6.01 6.01 0 0 0-1.153.666l-.821.6l-2.04-.65L4.565 8.88l1.583 1.441l-.112 1.013c-.05.443-.05.89 0 1.332l.112 1.012l-1.583 1.443l1.015 1.758l2.04-.65ZM11.996 16a4 4 0 1 1 0-8a4 4 0 0 1 0 8Zm0-6a2 2 0 1 0 2 2.09v.4V12a2 2 0 0 0-2-2Z"
                  />
                </svg>
                Settings
              </a>
            </li>
          </ul>
        </div>

        <!-- logout section -->
        <div class="logout-button">
          <p>
            <svg aria-hidden="true" role="img" viewBox="0 0 32 32">
              <path
                fill="currentColor"
                d="M6 30h12a2.002 2.002 0 0 0 2-2v-3h-2v3H6V4h12v3h2V4a2.002 2.002 0 0 0-2-2H6a2.002 2.002 0 0 0-2 2v24a2.002 2.002 0 0 0 2 2Z"
              />
              <path
                fill="currentColor"
                d="M20.586 20.586L24.172 17H10v-2h14.172l-3.586-3.586L22 10l6 6l-6 6l-1.414-1.414z"
              />
            </svg>
            <a href="{% url 'user-logout' %}">Logout</a>
          </p>
        </div>
      </div>

      <!-- main content section -->
      <div class="main-content">
        <div class="top-bar">
          <div class="search">
            <form action="{% url 'insta-search'%}" method="post">
              {% csrf_token %}
              <input
                type="text"
                id="search"
                name="search"
                placeholder="search"
              />
              <button type="submit">
                <svg aria-hidden="true" role="img" viewBox="0 0 24 24">
                  <path
                    fill="rgb(173, 173, 173)"
                    d="m20.71 19.29l-3.4-3.39A7.92 7.92 0 0 0 19 11a8 8 0 1 0-8 8a7.92 7.92 0 0 0 4.9-1.69l3.39 3.4a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.42ZM5 11a6 6 0 1 1 6 6a6 6 0 0 1-6-6Z"
                  />
                </svg>
              </button>
            </form>
          </div>
          <div class="user-actions">
            <svg aria-hidden="true" role="img" viewBox="0 0 24 24">
              <path
                fill="#0095f6"
                d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"
              />
            </svg>
            <button class="toggle-add-post">Add Post</button>
          </div>
        </div>
        {% block content %} {% endblock %}
      </div>

      <div class="post-modal">
        <p class="close">&times;</p>
        <form method="post" enctype="multipart/form-data">
          <h3>Create a new post</h3>
          {% csrf_token %}
          <div>
            <p class="post-form-label">Name:</p>
            {{post_form.name}}
          </div>
          <div>
            <p class="post-form-label">Image:</p>
            {{post_form.image}}
          </div>
          <div>
            <p class="post-form-label">Caption:</p>
            {{post_form.caption}}
          </div>
          <div><input type="submit" value="Post" /></div>
        </form>
      </div>
    </main>
    <script src="{% static 'app/js/main.js' %}"></script>
  </body>
</html>
